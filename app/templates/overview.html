{% extends 'layout.html' %}

{% block content %}

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<h2>Overview</h2>

<p>You have <strong>{{ account_balance | price }}</strong> across all your accounts.</p>

<p><strong>{{ pot_balance | price }}</strong> is distributed among your pots.</p>

<h2>Analysis for {{ current_month }}</h2>

<nav id="month-nav" hx-boost="true">
    <ul>
        <li><i class="fa-solid fa-angle-left"></i> <a href="{{ previous_url }}">{{ previous_month }}</a></li>
        <li>{{ current_month }}</li>
        <li><a href="{{ next_url }}">{{ next_month }}</a> <i class="fa-solid fa-angle-right"></i></li>
    </ul>
</nav>

<div class="grid">
    <div>
        <canvas id="balanceChart"></canvas>
    </div>
    <div>
        <canvas id="categoriesChart"></canvas>
    </div>
</div>

<script>
// These have to be var because HTMX re-evaluates the script tag
// when using hx-boost
var categoriesData = {{ categories_chart | safe }}
var balanceData = {{ balance_chart | safe }}
</script>

<script defer src="{{ url_for('static', filename='js/overview.js') }}"></script>

{% endblock %}

